/* OPT-157083 START */
const builderId = 1326;
const variationId = Insider.campaign.userSegment.getActiveVariationByBuilderId(builderId);
const goalID = 223;

const productIDs = [
    '000000000000405647', '000000000000405616', '000000000000431044', '000000000000354545', '000000000000354544',
    '000000000000486599', '000000000000486600', '000000000000486598', '000000000000486597', '000000000000486672',
    '000000000000369123', '000000000000369127', '000000000000238933', '000000000000382323', '000000000000405624',
    '000000000000405619', '000000000000405618', '000000000000310728', '000000000000310730', '000000000000503333',
    '000000000000503332', '000000000000503331', '000000000000227535', '000000000000435920', '000000000000486513',
    '000000000000486511', '000000000000486512', '000000000000354715', '000000000000306273', '000000000000354714',
    '000000000000354713', '000000000000306272', '000000000000306271', '000000000000307248', '000000000000299208',
    '000000000000422568', '000000000000299206', '000000000000322566', '000000000000369118', '000000000000307249',
    '000000000000306004', '000000000000307247', '000000000000422569', '000000000000413036', '000000000000413037',
    '000000000000413038', '000000000000422618', '000000000000382325', '000000000000369120', '000000000000369121',
    '000000000000369122', '000000000000353453', '000000000000353454', '000000000000413043', '000000000000424130',
    '000000000000424131', '000000000000424132', '000000000000322619', '000000000000422570', '000000000000378230',
    '000000000000378209', '000000000000378229', '000000000000378228', '000000000000378213', '000000000000378210',
    '000000000000378211', '000000000000378212', '000000000000378218', '000000000000503327', '000000000000503328',
    '000000000000503330', '000000000000503329', '000000000000503326', '000000000000424133', '000000000000424136',
    '000000000000424134', '000000000000424137', '000000000000292829', '000000000000281751', '000000000000422623',
    '000000000000422620', '000000000000354542', '000000000000299216', '000000000000293069', '000000000000299309',
    '000000000000354711', '000000000000293073', '000000000000354710', '000000000000293059', '000000000000293081',
    '000000000000354708', '000000000000354709', '000000000000378219', '000000000000378227', '000000000000378217',
    '000000000000382276', '000000000000378216', '000000000000378214', '000000000000382283', '000000000000378215',
    '000000000000422616', '000000000000422619', '000000000000422617', '000000000000483457', '000000000000483455',
    '000000000000503089', '000000000000483454', '000000000000435933', '000000000000435932', '000000000000435931',
    '000000000000435929', '000000000000435928', '000000000000435927', '000000000000435831', '000000000000435930',
    '000000000000382313', '000000000000382306', '000000000000382308', '000000000000382309', '000000000000382307',
    '000000000000382285', '000000000000382310', '000000000000382311', '000000000000354654', '000000000000216964',
    '000000000000216967', '000000000000216968', '000000000000216969', '000000000000354641', '000000000000354642',
    '000000000000365499', '000000000000422574', '000000000000422573', '000000000000422572', '000000000000422869',
    '000000000000359341', '000000000000359342', '000000000000310645', '000000000000365504', '000000000000365506',
    '000000000000365505', '000000000000365480', '000000000000365503', '000000000000310646', '000000000000422622',
    '000000000000369119', '000000000000382312', '000000000000369131', '000000000000369132', '000000000000382316',
    '000000000000310647', '000000000000365508', '000000000000365507', '000000000000382315', '000000000000310648',
    '000000000000310649', '000000000000307229', '000000000000307228', '000000000000311188', '000000000000435919',
    '000000000000435955', '000000000000474456', '000000000000474452', '000000000000435917', '000000000000474455',
    '000000000000435916', '000000000000474450', '000000000000474449', '000000000000474451', '000000000000420248',
    '000000000000503185', '000000000000503184', '000000000000420255', '000000000000474454', '000000000000420257',
    '000000000000420416', '000000000000474448', '000000000000435918', '000000000000420417', '000000000000474453',
    '000000000000422575', '000000000000422571', '000000000000359316', '000000000000359304', '000000000000359318',
    '000000000000359303', '000000000000297229', '000000000000382329', '000000000000382330', '000000000000435924',
    '000000000000435923', '000000000000435922', '000000000000435921', '000000000000369233', '000000000000216845',
    '000000000000222721', '000000000000216829', '000000000000359408', '000000000000354681', '000000000000354682',
    '000000000000354678', '000000000000354677', '000000000000274880', '000000000000293026', '000000000000299308',
    '000000000000299311', '000000000000299310', '000000000000387465', '000000000000293086', '000000000000310631',
    '000000000000216889', '000000000000235649', '000000000000435956', '000000000000413039', '000000000000216888',
    '000000000000216890', '000000000000368493', '000000000000380267', '000000000000382318', '000000000000435833',
    '000000000000503183', '000000000000474464', '000000000000503270', '000000000000267739', '000000000000280108',
    '000000000000267740', '000000000000382319', '000000000000483453', '000000000000431009', '000000000000503439',
    '000000000000413041', '000000000000483452', '000000000000413040', '000000000000503182'
];

const paidProductIDs = Insider.systemRules.call('getPaidProducts').map((product) => product.id);

if (variationId) {
    if (!Insider.campaign.isControlGroup(variationId)) {
        if (productIDs.some((productID) => Insider.fns.has(paidProductIDs, productID))) {
            Insider.utils.opt.sendCustomGoal(builderId, goalID, false);
        }
    }

    Insider.campaign.info.show(variationId);
}
/* OPT-157083 END */
